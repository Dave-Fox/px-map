<!-- Common imports -->
<link rel="import" href="../../polymer/polymer.html" />
<link rel="import" href="../../px-polymer-font-awesome/px-polymer-font-awesome.html" />

<!-- Common demo imports -->
<link rel="import" href="../../px-demo/px-demo-header.html" />
<link rel="import" href="../../px-demo/px-demo-api-viewer.html" />
<link rel="import" href="../../px-demo/px-demo-footer.html" />
<link rel="import" href="../../px-demo/px-demo-configs.html" />
<link rel="import" href="../../px-demo/px-demo-props.html" />
<link rel="import" href="../../px-demo/px-demo-interactive.html" />
<link rel="import" href="../../px-demo/px-demo-component-snippet.html" />
<link rel="import" href="../../px-demo/css/px-demo-styles.html" />

<!-- Imports for this component -->
<link rel="import" href="../px-map.html" />
<link rel="import" href="../px-map-tile-layer.html" />
<link rel="import" href="../px-map-marker-group.html" />

<!-- Demo DOM module -->
<dom-module id="px-map-marker-group-demo">
  <template>
  <style include="px-demo-styles" is="custom-style"></style>

  <!-- Header -->
  <px-demo-header
      module-name="px-map-marker-group"
      description="The px-map-marker-group component lets you load a large number of markers onto your map.">
  </px-demo-header>

  <!-- Interactive -->
  <px-demo-interactive>
    <!-- Configs -->
    <px-demo-configs configs="[[configs]]" props="{{props}}" chosen-config="{{chosenConfig}}"></px-demo-configs>

    <!-- Props -->
    <px-demo-props props="{{props}}" config="[[chosenConfig]]"></px-demo-props>

    <!-- Component ---------------------------------------------------------->
    <px-demo-component>
      <div style="height:400px;width:600px;display:flex">
        <px-map flex-to-size fit-to-markers>
          <px-map-tile-layer url="https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"></px-map-tile-layer>
          <px-map-marker-group name="Plaques" data="{{props.data.value}}"></px-map-marker-group>
        </px-map>

      </div>
    </px-demo-component>
    <!-- END Component ------------------------------------------------------>

    <px-demo-component-snippet
        element-properties="{{props}}"
        element-name="px-map-marker-group">
    </px-demo-component-snippet>
  </px-demo-interactive>

  <!-- API Viewer -->
  <px-demo-api-viewer source="px-map-marker-group"></px-demo-api-viewer>

  <!-- Footer -->
  <px-demo-footer></px-demo-footer>
</template>
</dom-module>

  <script>
    Polymer({
      is: 'px-map-marker-group-demo',

      properties: {

        /**
         * Note: The actual data/values for `props` are placed in `this.demoProps`
         * to create a static reference that Polymer shouldn't overwrite.
         *
         * @property props
         * @type {Object}
         */
        props: {
          type: Object,
          value: function(){ return this.demoProps; }
        },



        /**
         * An array of pre-configured `props` that can be used to provide the user
         * with a set of common examples. These configs will be made available
         * as a set of tabs the user can click that will automatically change
         * the `props` to specific values.
         *
         * @property configs
         * @type {Array}
         */
        configs: {
          type: Array,
          value: function(){
            return [
              { configName: "Basic",
                configReset: true },
              ]
          }
        }
      },

      /**
       * A reference for `this.props`. Read the documentation there.
       *
       * @property demoProps
       * @type {Object}
       */
      demoProps: {
        name: {
          type: String,
          defaultValue: 'Bus stop data',
          inputType: 'text'
        },

        data: {
          type: Object,
          inputType: 'code:JSON',
          defaultValue: {
            "type": "FeatureCollection",
            "features": [
              {
                "type": "Feature",
                "geometry": {
                  "type": "Point",
                  "coordinates": [
                    "-117.24042573",
                    "32.67445793"
                  ]
                },
                "properties": {
                  "title": "Cabrillo National Monument",
                  "marker-icon": {
                    "icon-base": "static-icon",
                    "icon-type": "warning",
                    "icon-with-badge": true
                  }
                },
                "id": "10001"
              },
              {
                "type": "Feature",
                "geometry": {
                  "type": "Point",
                  "coordinates": [
                    "-117.27618677",
                    "32.83957829"
                  ]
                },
                "properties": {
                  "title": "Pearl St & Draper Av",
                  "marker-icon": {
                    "icon-base": "static-icon",
                    "icon-type": "info",
                    "icon-with-badge": true
                  }
                },
                "id": "10003"
              },
              {
                "type": "Feature",
                "geometry": {
                  "type": "Point",
                  "coordinates": [
                    "-117.2738099",
                    "32.84012848"
                  ]
                },
                "properties": {
                  "title": "Pearl St & Fay Av",
                  "marker-icon": {
                    "icon-base": "static-icon",
                    "icon-type": "unknown",
                    "icon-with-badge": true
                  }
                },
                "id": "10004"
              },
              {
                "type": "Feature",
                "geometry": {
                  "type": "Point",
                  "coordinates": [
                    "-117.26867322",
                    "32.8458467"
                  ]
                },
                "properties": {
                  "title": "Torrey Pines Rd & Exchange Pl",
                  "marker-icon": {
                    "icon-base": "static-icon",
                    "icon-type": "important",
                    "icon-with-badge": true
                  }
                },
                "id": "10006"
              },
              {
                "type": "Feature",
                "geometry": {
                  "type": "Point",
                  "coordinates": [
                    "-117.26175158",
                    "32.84931178"
                  ]
                },
                "properties": {
                  "title": "Torrey Pines Rd & Hillside Dr",
                  "marker-icon": {
                    "icon-base": "static-icon",
                    "icon-type": "unknown",
                    "icon-with-badge": true
                  }
                },
                "id": "10007"
              },
              {
                "type": "Feature",
                "geometry": {
                  "type": "Point",
                  "coordinates": [
                    "-117.24825013",
                    "32.79810093"
                  ]
                },
                "properties": {
                  "title": "Garnet Av & Everts St",
                  "marker-icon": {
                    "icon-base": "static-icon",
                    "icon-type": "unknown",
                    "icon-with-badge": true
                  }
                },
                "id": "10011"
              },
              {
                "type": "Feature",
                "geometry": {
                  "type": "Point",
                  "coordinates": [
                    "-117.24583394",
                    "32.79652904"
                  ]
                },
                "properties": {
                  "title": "Grand Av & Fanuel St",
                  "marker-icon": {
                    "icon-base": "static-icon",
                    "icon-type": "warning",
                    "icon-with-badge": true
                  }
                },
                "id": "10012"
              },
              {
                "type": "Feature",
                "geometry": {
                  "type": "Point",
                  "coordinates": [
                    "-117.24277358",
                    "32.79929398"
                  ]
                },
                "properties": {
                  "title": "Garnet Av & Haines St",
                  "marker-icon": {
                    "icon-base": "static-icon",
                    "icon-type": "info",
                    "icon-with-badge": true
                  }
                },
                "id": "10013"
              },
              {
                "type": "Feature",
                "geometry": {
                  "type": "Point",
                  "coordinates": [
                    "-117.24120249",
                    "32.79965017"
                  ]
                },
                "properties": {
                  "title": "Garnet Av & Ingraham St",
                  "marker-icon": {
                    "icon-base": "static-icon",
                    "icon-type": "important",
                    "icon-with-badge": true
                  }
                },
                "id": "10015"
              }
            ]
          }
        },

        parentComponent: {
          value: ["<px-map flex-to-size fit-to-markers>", "</px-map>"]
        }
      }
    });
  </script>
