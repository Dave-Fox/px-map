'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if('value'in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function')}}(function(){'use strict';var PxMapInfoControl=function(){function PxMapInfoControl(){_classCallCheck(this,PxMapInfoControl)}_createClass(PxMapInfoControl,[{key:'_createElementInstance',value:function _createElementInstance(){var options=this._getInfoControlOptions();return L.Control.controlBox(options)}},{key:'_getInfoControlOptions',value:function _getInfoControlOptions(){var defaults=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var options=defaults;options.position=this._formatPosition(this.position||'')||undefined;options.content=this._getInfoControlContent();options.className='map-info-control';if(this.autoHide&&!options.content.length){options.autoOpen=false;this.set('hidden',true)}else{options.autoOpen=true}return options}},{key:'_updateInfoControlContent',value:function _updateInfoControlContent(){if(!this.elementInstance)return;var content=this._getInfoControlContent();this.elementInstance.setContent(content);if(this.autoHide){this._autoHideOrShowInfoControl()}}},{key:'_autoHideOrShowInfoControl',value:function _autoHideOrShowInfoControl(){if(!this.autoHide)return;if(!this._content||!this._content.length){this.set('hidden',true)}else{this.set('hidden',false)}}},{key:'_updateInfoControlVisibility',value:function _updateInfoControlVisibility(){if(!this.elementInstance)return;if(this.hidden){this.elementInstance.closeBox()}else{this.elementInstance.openBox()}}},{key:'_getInfoControlContent',value:function _getInfoControlContent(){this._content=this.content||'';return this._content}},{key:'_handleInfoControlBind',value:function _handleInfoControlBind(evt){if(evt.detail&&evt.detail.control===this.name){evt.stopPropagation();this.set('content',evt.detail.content||'');if(evt.detail.popup)this.listen(evt.detail.popup,'px-map-popup-content-changed','_handlePopupChanged')}}},{key:'_handleInfoControlUnbind',value:function _handleInfoControlUnbind(evt){if(evt.detail&&evt.detail.control===this.name){evt.stopPropagation();this.set('content',evt.detail.content||'');if(evt.detail.popup)this.unlisten(evt.detail.popup,'px-map-popup-content-changed','_handlePopupChanged')}}},{key:'_handlePopupChanged',value:function _handlePopupChanged(evt){if(evt.detail&&evt.detail.content){evt.stopPropagation();this.set('content',evt.detail.content||'')}}},{key:'is',get:function get(){return'px-map-info-control'}},{key:'behaviors',get:function get(){return[window.PxMapBehavior.ElementInstance,window.PxMapBehavior.ControlInstance]}},{key:'parentListeners',get:function get(){return{'px-map-info-control-bind':'_handleInfoControlBind','px-map-info-control-unbind':'_handleInfoControlUnbind'}}},{key:'properties',get:function get(){return{name:{type:String,notify:true},maxWidth:{type:String,value:'300'},maxHeight:{type:String},content:{type:String,observer:'_updateInfoControlContent'},hidden:{type:Boolean,value:false,notify:true,observer:'_updateInfoControlVisibility'},autoHide:{type:Boolean,value:true}}}}]);return PxMapInfoControl}();Polymer(PxMapInfoControl)})();
//# sourceMappingURL=px-map-info-control.js.map
