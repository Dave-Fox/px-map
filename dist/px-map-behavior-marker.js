'use strict';(function(){'use strict';var MapMarkerBase={properties:{lat:{type:Number,notify:true,observer:'shouldUpdateInst'},lng:{type:Number,notify:true,observer:'shouldUpdateInst'},name:{type:String,notify:true,observer:'shouldUpdateInst'}},canAddInst:function canAddInst(){return typeof this.lat==='number'&&typeof this.lng==='number'},createInst:function createInst(options){return L.marker(options.geometry,options.config)},updateInst:function updateInst(lastOptions,nextOptions){if(lastOptions.geometry!==nextOptions.geometry){this.elementInst.setLatLng(nextOptions.geometry)}if(lastOptions.config.icon!==nextOptions.config.icon){this.elementInst.setIcon(nextOptions.config.icon)}},getInstOptions:function getInstOptions(){var defaults=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var geometry=this.getMarkerLatLng();if(defaults.geometry)this.extend(geometry,defaults.geometry);var config={};config.title=this.name||'';config.icon=this.getMarkerIcon();if(defaults.config)this.extend(config,defaults.config);return{geometry:geometry,config:config}},getMarkerLatLng:function getMarkerLatLng(){if(!this.lat||!this.lng)return[];return L.latLng(this.lat,this.lng)},getMarkerIcon:function getMarkerIcon(){throw new Error('The `getMarkerIcon` method must be implemented.')}};var MapMarkerStaticBase={properties:{type:{type:String,reflectToAttribute:true,value:'info',observer:'_updateMarkerIcon'},showBadge:{type:Boolean,value:true,observer:'_updateMarkerIcon'}},getMarkerIcon:function getMarkerIcon(){if(!this.markerIcon){var options=this._getMarkerIconOptions();this.markerIcon=new PxMap.IconStatic(options)}return this.markerIcon},_updateMarkerIcon:function _updateMarkerIcon(){if(!this.markerIcon)return;var options=this._getMarkerIconOptions();this.markerIcon=new PxMap.IconStatic(options);this.shouldUpdateInst()},_getMarkerIconOptions:function _getMarkerIconOptions(){return{type:this.type||'',badge:this.showBadge||false}}};var namespace=window.PxMapBehavior=window.PxMapBehavior||{};namespace.MapMarkerBase=MapMarkerBase;namespace.MapMarker=[namespace.MapLayerParent,namespace.MapMarkerBase];namespace.MapMarkerStaticBase=MapMarkerStaticBase;namespace.MapMarkerStatic=[namespace.MapMarker,namespace.MapMarkerStaticBase]})();
//# sourceMappingURL=px-map-behavior-marker.js.map
